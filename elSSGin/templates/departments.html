{% extends "base.html" %}

{% block url %}{% endblock %}

{% block title %}{{ dept["name"] }} - Elgin Park Secondary{% endblock %}
{% block stylesheet %}departments.css{% endblock %}
{% if dept["has-youtube"] %}
  {% block head %}
    <link rel="stylesheet preload" type="text/css" as="style" href="/resources/lite-youtube-embed/src/lite-yt-embed.css">
    <script rel="preload" src="/resources/lite-youtube-embed/src/lite-yt-embed.js"></script>
  {% endblock %}
{% endif %}

{% block main %}
  <h1>{{ dept["name"] }}</h1>

  <div id="dept-toc">
    {% for section in dept["sections"] %}
      <li><a href="#{{ section["id"] | safe }}">{{ section["name"] | safe}}</a></li>
    {% endfor %}
  </div>

  {% for section in dept["sections"] %}
    <section id="{{ section["id"] | safe }}">
      <h2>{{ section["name"] | safe }}</h2>
      <div class="toc">
        <h3>Contents</h3>
        <menu>
          {% for course in section["courses"] %}
            <li><a href="#{{ course["code"] | safe }}">{{ course["name"] | safe}}</a></li>
          {% endfor %}
        </menu>
      </div>

    {% for course in section["courses"] %}
      <article id="{{ course["code"] }}" class="course">
        <h3>{{ course["name"] }}</h3>
        <p>{{ course["desc"] }}</p>
      </article>
    </section>
    {% endfor %}
  {% endfor %}

{% endblock %}