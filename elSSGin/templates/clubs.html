{% extends "base.html" %}

{% block url %}{% endblock %}

{% block title %}Clubs - Elgin Park Secondary{% endblock %}
{% set stylesheet = 'clubs.css' %}
{% block head %}
    <link rel="stylesheet preload" type="text/css" as="style" href="/resources/lite-youtube-embed/src/lite-yt-embed.css">
    <script rel="preload" src="/resources/lite-youtube-embed/src/lite-yt-embed.js"></script>
{% endblock %}

{% block main %}
  <h1>Clubs</h1>
    <p>Elgin Park has over <b>{{ clubs | length }} clubs</b>, from anime cosplay to helping out in the community, letting you do what you love at school!</p>
    <details id="toc">
      <summary>Table of contents</summary>
      <ul aria-label="Clubs">
        {% for club in clubs %}
          <li><a href="#{{ club["id"] }}">{{ club["name"] | safe}}</a></li>
        {% endfor %}
        <hr><li><a href="#start-your-own-club">Start a club</a></li>
      </ul>
    </details>


  {% for club in clubs %}
    <article id="{{ club["id"] }}" class="club" aria-label="{{ club["name"] | safe }}">
      <h2>{{ club["name"] | safe }}</h2>
      <span class="club-info">
          <a class="club-claim-link"
             href="/edit-requests?url=https%3A%2F%2Felginparksecondary.com%2Fclubs%3F%23{{ club["id"] }}">Request an edit</a>
          <br>
        Sponsored by {{ club["sponsor"] }}<br>
        {% if club["teams-code"] %}Teams code: {{ club["teams-code"] }}<br>{% endif %}
        {% if club["meeting-days"] %}{% for day in club["meeting-days"] %}{{ day }}, {% endfor %}in {% endif %}
        {{ club["meeting-room"] }}
      </span>
      {% if club["desc"] %}<p>{{ club["desc"] | safe }}</p>{% endif %}
    </article>
  {% endfor %}
  <article id="start-your-own-club" aria-label="Start your own club">
    <div id="start-club-text">
      <h2>Start your own club</h2>
      <p>Don't see a club you're interested in? Start your own!</p>
      <p>Find a sponsor teacher for a meeting room, fill out the club proposal form in the office.</p>
      <p>Then, <a class="club-claim-link" href="/edit-requests?url=https%3A%2F%2Felginparksecondary.com%2Fclubs%3F%23NEW-CLUB">
        submit an edit request</a>
        to get your club listed here, get some people to join it, and go!</p>
    </div>
  </article>
{% endblock %}